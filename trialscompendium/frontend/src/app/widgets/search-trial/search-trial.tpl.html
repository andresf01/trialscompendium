<div class="search-trial">
    <label for="{{vm.title | slugify}}">{{vm.title | capitalize}}</label>
    <!-- Drop down list with single select -->
    <div ng-if="vm.multiple == 0">
        <ui-select ng-model="vm.selected" name="search-{{vm.title | slugify}}" id="{{vm.title | slugify}}" theme="bootstrap">
            <ui-select-match placeholder="Select {{vm.title}}...">{{$select.selected.name}}</ui-select-match>
            <ui-select-choices repeat="item in vm.itemArray | filter: $select.search track by item.id">
                <div ng-bind-html="item.name | highlight: $select.search"></div>
            </ui-select-choices>
        </ui-select>
    </div>
    <!-- Drop down list with multiple select -->
    <div ng-if="vm.multiple == 1">
        <ui-select multiple ng-model="vm.selected" name="search-{{vm.title | slugify}}" id="{{vm.title | slugify}}" theme="bootstrap" close-on-select="false">
            <ui-select-match placeholder="Select {{vm.title}}...">{{$item.name}}</ui-select-match>
            <ui-select-choices repeat="item in vm.itemArray | propsFilter: {name: $select.search} track by item.id">
                <div ng-bind-html="item.name | highlight: $select.search"></div>
            </ui-select-choices>
        </ui-select>
    </div>
</div>